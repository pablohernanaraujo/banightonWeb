"use strict";angular.module("webApp",["ngAnimate","ngCookies","ngMessages","ngResource","ui.router","ngSanitize","ngTouch","firebase"]).constant("fire",{clients:"https://clientsbnoapp.firebaseio.com"}).run(["$rootScope","$location",function(a,b){a.$on("$routeChangeError",function(c,d,e,f){"AUTH_REQUIRED"===f&&(a.message="Sorry, you must log in to access thar page",b.path("/inicio"))})}]).config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("inicio",{url:"/inicio",templateUrl:"views/inicio.html",controller:"InicioCtrl"}).state("servicios",{url:"/servicios",templateUrl:"views/servicios.html",controller:"ServiciosCtrl"}).state("clientes",{url:"/clientes",templateUrl:"views/clientes.html",controller:"ClientesCtrl"}).state("privado",{url:"/privado",templateUrl:"views/privado.html",controller:"PrivadoCtrl",resolve:{currentAuth:["Authentication",function(a){return a.requireAuth()}]}}),b.otherwise("/inicio")}]),angular.module("webApp").controller("NavCtrl",["$scope","$rootScope","Authentication",function(a,b,c){b.btn=!0;var d=function(){$(".navegador").css({height:"100%"}),$("#cerrarAllModals").css({display:"block"}),b.btn=!1},e=function(){$("#menu").closeModal(),$("#ingresar").closeModal(),$(".navegador").css({height:"1%"}),$("#cerrarAllModals").css({display:"none"}),b.btn=!0};a.btnCerrar=function(){e()},a.abrirModal=function(a){"ingresar"===a&&($("#ingresar").openModal(),d()),"menu"===a&&($("#menu").openModal(),d())},a.cerrarModal=function(){e()},a.clientLogin=function(a){c.login(a)},a.clientLogout=function(){c.logout()}}]),angular.module("webApp").controller("InicioCtrl",["$scope","$rootScope",function(a,b){b.PAGE="inicio"}]),angular.module("webApp").controller("ClientesCtrl",["$scope","$rootScope",function(a,b){b.PAGE="clientes"}]),angular.module("webApp").controller("ServiciosCtrl",["$scope","$rootScope",function(a,b){b.PAGE="servicios"}]),angular.module("webApp").controller("PrivadoCtrl",["$scope","$rootScope",function(a,b){b.PAGE="privado",$("#ingresar").closeModal(),b.btn=!0}]),angular.module("webApp").factory("Authentication",["$rootScope","$firebaseAuth","fire","$location","$firebaseObject","$firebaseArray",function(a,b,c,d,e,f){var g=(new Firebase(c.clients+"/clients"),new Firebase(c.clients)),h=b(g);return h.$onAuth(function(b){if(b){var d=new Firebase(c.clients+"/clients/"+b.uid),f=e(d);a.currentUser=f}else a.currentUser=""}),{login:function(b){a.dataLoading=!0,h.$authWithPassword({email:b.email,password:b.password}).then(function(b){d.path("/privado"),a.algo=b.uid,a.dataLoading=!1})["catch"](function(b){a.message=b.message,a.dataLoading=!1})},logout:function(){return d.path("/inicio"),h.$unauth()},requireAuth:function(){return h.$requireAuth()},register:function(b){a.dataLoading=!0,h.$createUser({email:b.email,password:b.password}).then(function(e){new Firebase(c.clients+"/clients").child(e.uid).set({user:{date:Firebase.ServerValue.TIMESTAMP,regUser:e.uid,client:b.client,firstname:b.firstname,lastname:b.lastname,email:b.email,status:"1"}});a.message="Registering "+b.firstname,h.$authWithPassword({email:b.email,password:b.password}).then(function(b){a.dataLoading=!1,d.path("/privado"),a.algo=b.uid})})["catch"](function(b){a.message=b.message})}}}]),angular.module("webApp").run(["$templateCache",function(a){a.put("views/clientes.html",'<div class="row"> <img src="images/teclado.3c7e15eb.jpg" alt=""> </div> <div class="row" style="height:800px"></div>'),a.put("views/inicio.html",'<div class="row"> <img src="images/inicio1280.4fca1333.jpg" alt=""> </div> <div class="row" style="height:800px"></div>'),a.put("views/privado.html",'<div class="row"> <img src="images/privado.ef4e3a8d.jpg" alt=""> </div> <div class="row" style="height:800px"></div>'),a.put("views/servicios.html",'<div class="row"> <img src="images/servicios.38d0e558.jpg" alt=""> </div> <div class="row" style="height:800px"></div>')}]);