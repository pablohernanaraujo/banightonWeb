"use strict";angular.module("webApp",["ngAnimate","ngCookies","ngMessages","ngResource","ui.router","ngSanitize","ngTouch","firebase"]).constant("fire",{clients:"https://clientsbnoapp.firebaseio.com"}).run(["$rootScope","$location",function(a,b){a.$on("$routeChangeError",function(c,d,e,f){"AUTH_REQUIRED"===f&&(a.message="Sorry, you must log in to access thar page",b.path("/inicio"))})}]).config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("inicio",{url:"/inicio",templateUrl:"views/inicio.html",controller:"InicioCtrl"}).state("servicios",{url:"/servicios",templateUrl:"views/servicios.html",controller:"ServiciosCtrl"}).state("clientes",{url:"/clientes",templateUrl:"views/clientes.html",controller:"ClientesCtrl"}).state("privado",{url:"/privado",templateUrl:"views/privado.html",controller:"PrivadoCtrl",resolve:{currentAuth:["Authentication",function(a){return a.requireAuth()}]}}),b.otherwise("/inicio")}]),angular.module("webApp").controller("NavCtrl",["$scope","$rootScope","$timeout","Authentication",function(a,b,c,d){function e(){$("#mensaje").animate({opacity:0},500,function(){b.message=""})}b.btn=!0;var f=function(){$(".navegador").css({height:"100%"}),$("#cerrarAllModals").css({display:"block"}),b.btn=!1},g=function(){$("#menu").closeModal(),$("#ingresar").closeModal(),$(".navegador").css({height:"1%"}),$("#cerrarAllModals").css({display:"none"}),b.btn=!0};a.btnCerrar=function(){g()},a.abrirModal=function(a){"ingresar"===a&&($("#ingresar").openModal(),f()),"menu"===a&&($("#menu").openModal(),f())},a.cerrarModal=function(){g()},a.clientLogin=function(a){d.login(a)},a.clientLogout=function(){d.logout()},$(document).ready(function(){var b=$(window).width(),c=function(){b>1280&&(a.logo="./images/banighton.9584eec4.png"),1280>=b&&(a.logo="./images/banighton.9584eec4.png"),800>=b&&(a.logo="./images/banighton.9584eec4.png"),600>=b&&(a.logo="./images/logo.6ddb148b.png")};c(),$(window).resize(function(){b=$(window).width(),1280>=b&&a.$apply(function(){a.logo="./images/banighton.9584eec4.png"}),600>=b&&a.$apply(function(){a.logo="./images/logo.6ddb148b.png"})})}),b.$watch("message",function(){("Usuario inexistente."===b.message||"Contrase침a incorrecta."===b.message)&&($("#mensaje").css({opacity:1}),c(e,3e3))})}]),angular.module("webApp").controller("InicioCtrl",["$scope","$rootScope",function(a,b){b.PAGE="inicio",$(document).ready(function(){var b=$(window).width(),c=function(){b>1280&&(a.imagenInicio="./images/inicio1920.5cf91fc1.jpg"),1280>=b&&(a.imagenInicio="./images/inicio1280.4fca1333.jpg"),800>=b&&(a.imagenInicio="./images/inicio800.2a883827.jpg"),600>=b&&(a.imagenInicio="./images/inicio600.6781a7eb.jpg")};c(),$(window).resize(function(){b=$(window).width(),b>1280&&a.$apply(function(){a.imagenInicio="./images/inicio1920.5cf91fc1.jpg"}),1280>=b&&a.$apply(function(){a.imagenInicio="./images/inicio1280.4fca1333.jpg"}),800>=b&&a.$apply(function(){a.imagenInicio="./images/inicio800.2a883827.jpg"}),600>=b&&a.$apply(function(){a.imagenInicio="./images/inicio600.6781a7eb.jpg"})})})}]),angular.module("webApp").controller("ClientesCtrl",["$scope","$rootScope","Authentication",function(a,b,c){b.PAGE="clientes",$(document).ready(function(){var c=$(window).width(),d=function(){c>1280&&(a.imagenClientes="./images/clientes1920.59fb9d65.jpg"),1280>=c&&(a.imagenClientes="./images/clientes1280.f8fb3aa7.jpg"),800>=c&&(a.imagenClientes="./images/clientes800.f4efdd3f.jpg"),600>=c&&(a.imagenClientes="./images/clientes600.8a147b1e.jpg")};d(),$(".parallax").parallax(),$(window).resize(function(){c=$(window).width(),c>1280&&a.$apply(function(){a.imagenClientes="./images/clientes1920.59fb9d65.jpg"}),1280>=c&&a.$apply(function(){a.imagenClientes="./images/clientes1280.f8fb3aa7.jpg"}),800>=c&&a.$apply(function(){a.imagenClientes="./images/clientes800.f4efdd3f.jpg"}),600>=c&&a.$apply(function(){a.imagenClientes="./images/clientes600.8a147b1e.jpg"})}),a.register=function(a){(void 0===a.client||""===a.client)&&(b.message="Debe seleccionar Disco o Dj porfavor."),("disco"===a.client||"dj"===a.client)&&(b.message="",console.log(a))}})}]),angular.module("webApp").controller("ServiciosCtrl",["$scope","$rootScope",function(a,b){b.PAGE="servicios",$(document).ready(function(){var b=$(window).width(),c=function(){b>1280&&(a.imagenServicios="./images/servicios1920.1351019e.jpg"),1280>=b&&(a.imagenServicios="./images/servicios1280.ea808f34.jpg"),800>=b&&(a.imagenServicios="./images/servicios800.1066a85a.jpg"),600>=b&&(a.imagenServicios="./images/servicios600.3c9da2cf.jpg")};c(),$(window).resize(function(){b=$(window).width(),b>1280&&a.$apply(function(){a.imagenServicios="./images/servicios1920.1351019e.jpg"}),1280>=b&&a.$apply(function(){a.imagenServicios="./images/servicios1280.ea808f34.jpg"}),800>=b&&a.$apply(function(){a.imagenServicios="./images/servicios800.1066a85a.jpg"}),600>=b&&a.$apply(function(){a.imagenServicios="./images/servicios600.3c9da2cf.jpg"})})})}]),angular.module("webApp").controller("PrivadoCtrl",["$scope","$rootScope","fire","$firebaseArray","$firebaseObject",function(a,b,c,d,e){var f=new Firebase(c.clients+"/clients/"+b.algo),g=d(f);g.$loaded().then(function(){a.cliente=g,a.client=e(f.child("user"))}),b.PAGE="privado",$("#ingresar").closeModal(),b.btn=!0,$(document).ready(function(){var b=$(window).width(),c=function(){b>1280&&(a.imagenPrivado="./images/privado1920.09f01870.jpg"),1280>=b&&(a.imagenPrivado="./images/privado1280.d8d1c7e2.jpg"),800>=b&&(a.imagenPrivado="./images/privado800.bb11f496.jpg"),600>=b&&(a.imagenPrivado="./images/privado600.acac362d.jpg")};c(),$(window).resize(function(){b=$(window).width(),b>1280&&a.$apply(function(){a.imagenPrivado="./images/privado1920.09f01870.jpg"}),1280>=b&&a.$apply(function(){a.imagenPrivado="./images/privado1280.d8d1c7e2.jpg"}),800>=b&&a.$apply(function(){a.imagenPrivado="./images/privado800.bb11f496.jpg"}),600>=b&&a.$apply(function(){a.imagenPrivado="./images/privado600.acac362d.jpg"})})})}]),angular.module("webApp").factory("Authentication",["$rootScope","$firebaseAuth","fire","$location","$firebaseObject","$firebaseArray",function(a,b,c,d,e,f){var g=(new Firebase(c.clients+"/clients"),new Firebase(c.clients)),h=b(g);return h.$onAuth(function(b){if(b){var d=new Firebase(c.clients+"/clients/"+b.uid),f=e(d);a.currentUser=f}else a.currentUser=""}),{login:function(b){a.dataLoading=!0,h.$authWithPassword({email:b.email,password:b.password}).then(function(b){d.path("/privado"),a.algo=b.uid,a.dataLoading=!1})["catch"](function(b){"The specified user does not exist."===b.message?a.message="Usuario inexistente.":"The specified password is incorrect."===b.message?a.message="Contrase침a incorrecta.":a.message=b.message,a.dataLoading=!1})},logout:function(){return d.path("/inicio"),h.$unauth()},requireAuth:function(){return h.$requireAuth()},register:function(b){a.dataLoading=!0,h.$createUser({email:b.email,password:b.password}).then(function(e){new Firebase(c.clients+"/clients").child(e.uid).set({user:{date:Firebase.ServerValue.TIMESTAMP,regUser:e.uid,client:b.client,firstname:b.firstname,lastname:b.lastname,email:b.email,status:"1"}});a.message="Registering "+b.firstname,h.$authWithPassword({email:b.email,password:b.password}).then(function(b){a.dataLoading=!1,d.path("/privado"),a.algo=b.uid})})["catch"](function(b){a.message=b.message})}}}]),angular.module("webApp").run(["$templateCache",function(a){a.put("views/clientes.html",'<div class="row" style="overflow-x:hidden;margin: 0; background: white"> <img ng-src="{{imagenClientes}}" alt="" width="100%"> </div> <div class="row" style="background:white;padding: 50px;margin: 0px"> <div class="container"> <div class="col s12"> <h2 class="center-align">Registrarse</h2> <p class="center-align" style="font-size: 17px">Todos los campos son obligatorios.</p> <div class="mensaje"> <div id="mensaje" class="center-align red-text">{{message}}</div> <div ng-show="dataLoading" class="center-align texto-principal">Conectando...</div> </div> </div> <form name="formularioCliente" novalidate> <div class="col s12 m2"> <div class="input-field"> <p style="color:rgba(0,0,0,.5);font-size:14px">Seleccione una opci칩n.</p> <p> <input ng-model="client.client" type="checkbox" id="disco" ng-true-value="\'disco\'" ng-false-value="\'\'"> <label for="disco">Disco</label> </p> <p> <input ng-model="client.client" type="checkbox" id="dj" ng-true-value="\'dj\'" ng-false-value="\'\'"> <label for="dj">Dj</label> </p> </div> </div> <div class="col s12 m5"> <div class="input-field"> <input id="email" type="email" class="validate" ng-model="client.email" required> <label data-error="invalido" for="email">Email</label> </div> <div class="input-field"> <input id="firstName" type="text" ng-model="client.firstname" required> <label for="firstName">Nombre</label> </div> </div> <div class="col s12 m5"> <div class="input-field"> <input id="password" type="password" ng-model="client.password" required> <label for="password">Contrase침a</label> </div> <div class="input-field"> <input id="lastName" type="text" ng-model="client.lastname" required> <label for="lastName">Apellido</label> </div> </div> <div class="col s12 m5 offset-m7"> <div class="input-field"> <button class="btn waves-effect waves-light btnFull bg-principal" ng-click="register(client)" ng-disabled="formularioCliente.$invalid">Registrarse </button> </div> <div ng-show="dataLoading"> <div class="progress blue lighten-4"> <div class="indeterminate bg-principal"></div> </div> </div> </div> </form> </div> </div> <div class="parallax-container"> <div class="parallax"><img src="./images/gente.8255b2ad.jpg"></div> </div>'),a.put("views/inicio.html",'<div class="row" style="overflow-x:hidden"> <img ng-src="{{imagenInicio}}" alt="" width="100%"> </div> <div class="row" style="height:800px"></div>'),a.put("views/privado.html",'<div class="row" style="overflow-x:hidden"> <img ng-src="{{imagenPrivado}}" alt=""> </div> <div class="row" style="height:800px"></div>'),a.put("views/servicios.html",'<div class="row" style="overflow-x:hidden"> <img ng-src="{{imagenServicios}}" alt="" width="100%"> </div> <div class="row" style="height:800px"></div>')}]);